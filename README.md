# Telegram Bot с интеграцией Perplexity AI

Telegram бот на Python, который принимает вопросы от пользователей и отвечает на них с помощью API Perplexity.

## Возможности

- Принимает текстовые вопросы от пользователей в Telegram
- Отправляет запросы в Perplexity API
- Возвращает ответы пользователям
- Обрабатывает ошибки и длинные ответы

## Требования

- Python 3.8 или выше
- Telegram Bot Token (получить у [@BotFather](https://t.me/BotFather))
- Perplexity API Key (получить на [perplexity.ai/settings/api](https://www.perplexity.ai/settings/api))

## Установка

1. Клонируйте репозиторий или скачайте файлы проекта

2. Установите зависимости:
```bash
pip install -r requirements.txt
```

3. Создайте файл `.env` на основе `.env.example`:
```bash
cp .env.example .env
```

4. Отредактируйте файл `.env` и добавьте ваши токены:
```
TELEGRAM_BOT_TOKEN=ваш_токен_бота
PERPLEXITY_API_KEY=ваш_ключ_api
```

## Получение токенов

### Telegram Bot Token

1. Откройте Telegram и найдите [@BotFather](https://t.me/BotFather)
2. Отправьте команду `/newbot`
3. Следуйте инструкциям для создания бота
4. Скопируйте полученный токен в файл `.env`

### Perplexity API Key

1. Зарегистрируйтесь на [perplexity.ai](https://www.perplexity.ai)
2. Перейдите в [настройки API](https://www.perplexity.ai/settings/api)
3. Создайте новый API ключ
4. Скопируйте ключ в файл `.env`

## Запуск

Запустите бота командой:
```bash
python bot.py
```

Бот начнет работать и будет отвечать на сообщения в Telegram.

## Использование

1. Найдите вашего бота в Telegram (по имени, которое вы указали при создании)
2. Отправьте команду `/start` для начала работы
3. Отправьте любой вопрос текстом, и бот ответит с помощью Perplexity AI

## Структура проекта

```
.
├── bot.py              # Основной файл бота
├── config.py           # Конфигурация и загрузка переменных окружения
├── requirements.txt    # Зависимости проекта
├── .env.example        # Пример файла с переменными окружения
├── .gitignore          # Игнорируемые файлы для Git
└── README.md           # Документация
```

## Примечания

- Бот использует модель `llama-3.1-sonar-small-128k-online` от Perplexity
- Длинные ответы автоматически разбиваются на части (лимит Telegram - 4096 символов)
- Все ошибки логируются для отладки

## Лицензия

Этот проект создан в образовательных целях.

